<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Chong Kay Heen - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">FomoFoto</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://cs2103-ay1819s2-w14-2.github.io/main/"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Chong Kay Heen - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-fomofoto"><a class="link" href="#project-fomofoto">PROJECT: FomoFoto</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="1-overview-of-the-project"><a class="link" href="#1-overview-of-the-project">1. Overview of the Project</a></h3>
<div class="paragraph">
<p>My team and I were tasked with enhancing a basic command line AddressBook for our Software Engineering project. We decided to morph the project into an image editor.<br></p>
</div>
<div class="paragraph">
<p>FomoFoto is a robust yet simple image-editing tool. Users interact with the application through worded commands from their keyboard, and receive visual response through the displayed image on the application. Unlike other heavy image editors, FomoFoto has a gentle learning curve as it removes clutter by providing the more essential features. The features and implementations are well documented in guides for users and developers respectively. In addition, FomoFoto is well-maintained with high reliability and code quality as it is covered by rigorous tests and checks.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="2-summary-of-contributions"><a class="link" href="#2-summary-of-contributions">2. Summary of Contributions</a></h3>
<div class="paragraph">
<p>This section provides a summary of my coding, documentation and miscellaneous contributions to FomoFoto, our team project.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Major Enhancement</strong>: I added <strong>image manipulation commands</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><em>What it does:</em> This feature allows users to manipulate images on a physical level, such as rotating, cropping and resizing the target image. Users key in keywords like <code>rotate</code>, <code>crop</code> and <code>resize</code> to activate the respective commands.</p>
</li>
<li>
<p><em>Justification:</em> This feature improves the product significantly because it is an essential feature of an image editor. Users might want to <code>rotate</code> their images because the orientation is wrong or <code>crop</code> out certain unwanted parts in the image. Should the image be too large, users can <code>resize</code> it as well.</p>
</li>
<li>
<p><em>Highlights:</em> This enhancement works with all other commands, including the image filters that were implemented by my teammate. An in-depth analysis of the commands were done before we decided to make use of a library. The implementation was challenging because there was a need to coordinate between the image filter commands and the commands here, because the two libraries returned different objects. There was a need to ensure that the <code>Image</code> class and <code>CurrentEdit</code> class could accept changes from both libraries.</p>
</li>
<li>
<p><em>Credits:</em> <a href="https://github.com/rkalla/imgscalr"><code>ImgScalr Library</code></a></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Major Enhancement</strong>: I added a <strong>watermark command</strong>.</p>
<div class="ulist">
<ul>
<li>
<p><em>What it does:</em> This feature allows users to add a watermark (any words or numbers) with the © sign to the target image. Users key in the keyword <code>wm</code> to activate this command.</p>
</li>
<li>
<p><em>Justification:</em> This feature improves the product significantly because it helps users such as professional photographers protect their images after editing it on our image editor. The copyright watermark prevents unauthorised third parties from using the images for their own private purposes.</p>
</li>
<li>
<p><em>Highlights:</em> It was especially challenging to integrate this command with all other commands acting on the same image, because a watermark should only be added once to an image. This implied that we had to ensure that the <code>Image</code> class contains a flag that indicates the presence of a watermark on the image, and this flag had to be constantly updated accurately in every command that can possibly add or remove a watermark from an image, which includes the <code>WaterMark</code> command, <code>SetPreset</code> command and <code>undo/redo</code> commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor Enhancement</strong>: I added a feature where the <code>Image</code> returns a file type (e.g. JPEG, PNG), because the methods to edit images differ according to the file type.</p>
</li>
<li>
<p><strong>Code Contributed</strong>: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/commits?author=kayheen">List of commits</a>, <a href="https://nus-cs2103-ay1819s2.github.io/cs2103-dashboard/#search=kay%20heen%20&amp;sort=displayName&amp;since=2019-02-10&amp;until=2019-04-15&amp;timeframe=day&amp;reverse=false&amp;repoSort=true">Project Code Dashboard</a></p>
</li>
<li>
<p><strong>Other Contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project Management:</p>
<div class="ulist">
<ul>
<li>
<p>Ensured that we were on task with our project documentation by allocating roles and ensuring consistency with our words and diagrams. (User Guide and Developer Guide)</p>
</li>
<li>
<p>Integrated Codacy to our GitHub repository: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/249">#249</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to Existing Features:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote tests for image manipulation and watermark commands to increase coverage: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/188">#188</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/208">#208</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/222">#222</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did the Developer Guide architecture and sequence diagrams for the overall application: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/84">#84</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/118">#118</a></p>
</li>
<li>
<p>Did the Developer Guide documentation for image manipulation and watermark commands: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/59">#59</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/123/">#123</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/229">#229</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/234">#234</a></p>
</li>
<li>
<p>Did the User Guide documentation for image manipulation and watermark commands: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/61/">#61</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/120/">#120</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/221">#221</a></p>
</li>
<li>
<p>Did the the User Guide documentation for the overall walk through: <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/65">#65</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments):
<a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/220">#220</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/235">#235</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/238">#238</a>, <a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/239">#239</a></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class:  <a href="https://github.com/CS2103-AY1819S2-W16-2/main/issues/102">#102</a>, <a href="https://github.com/CS2103-AY1819S2-W16-2/main/issues/112">#112</a>,
<a href="https://github.com/CS2103-AY1819S2-W16-2/main/issues/115">#115</a>,
<a href="https://github.com/CS2103-AY1819S2-W16-2/main/issues/117">#117</a>,</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a third party library (ImgScalr) to the project (<a href="https://github.com/CS2103-AY1819S2-W14-2/main/pull/26">#26</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="3-contributions-to-the-user-guide"><a class="link" href="#3-contributions-to-the-user-guide">3. Contributions to the User Guide</a></h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The sections below are my contributions to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="3-1-crop-an-image-code-crop-code"><a class="link" href="#3-1-crop-an-image-code-crop-code">3.1 Crop an Image : <code>crop</code></a></h4>
<hr>
<div class="paragraph">
<p>Crops an image based on the given top left-hand corner coordinates, width and height of final cropped image wanted.<br>
Format: <code>crop X_POINTCOORD Y_POINTCOORD WIDTH HEIGHT</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The point coordinates must be separated by a space each.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>crop 2 3 500 500</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="3-2-rotate-an-image-code-rotate-code"><a class="link" href="#3-2-rotate-an-image-code-rotate-code">3.2 Rotate an Image : <code>rotate</code></a></h4>
<hr>
<div class="paragraph">
<p>Rotates the image by a given degree provided by the user. Only 90, 180 or 270 degrees of rotation is allowed.<br>
Format: <code>rotate ANGLE</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rotate 90</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="3-3-watermark-code-wm-code"><a class="link" href="#3-3-watermark-code-wm-code">3.3 WaterMark : <code>wm</code></a></h4>
<hr>
<div class="paragraph">
<p>Adds a watermark to the image with a &#169; at the start of the input message. Messages can contain spaces. Should the message be too long to fit within the width of the image, the message will be cut off.<br>
Format: <code>wm MESSAGE</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Each image can only have one watermark.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wm FomoFoto</code></p>
</li>
<li>
<p><code>wm Done By FomoFoto</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="3-4-other-contributions"><a class="link" href="#3-4-other-contributions">3.4 Other contributions</a></h4>
<hr>
<div class="ulist">
<ul>
<li>
<p>A Walk Through of the Image Editor</p>
</li>
<li>
<p>Resize Command</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="4-contributions-to-the-developer-guide"><a class="link" href="#4-contributions-to-the-developer-guide">4. Contributions to the Developer Guide</a></h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The sections below are my contributions to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="4-1-how-the-architecture-components-interact-with-each-other"><a class="link" href="#4-1-how-the-architecture-components-interact-with-each-other">4.1 How the Architecture Components Interact with Each Other</a></h4>
<hr>
<div class="paragraph">
<p>The <em>Sequence Diagrams</em> below show how the components interact with each other for the scenarios where the user keys in the commands <code>import C:\Users\XXX\Desktop\Pictures</code> and <code>rotate 90</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SDforImportcommand.png" alt="SDforImportcommand" width="800">
</div>
<div class="title">Figure 1. Component interactions for <code>import C:\Users\XXX\Desktop\Pictures</code> command</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SDforRotatecommand.png" alt="SDforRotatecommand" width="800">
</div>
<div class="title">Figure 2. Component interactions for <code>rotate 90</code> command</div>
</div>
</div>
<div class="sect3">
<h4 id="4-2-image-manipulation"><a class="link" href="#4-2-image-manipulation">4.2 Image Manipulation</a></h4>
<hr>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>This segment involves manipulating the physical image itself, such as rotating, cropping and resizing. The implementations of these features are facilitated by <a href="https://github.com/rkalla/imgscalr"><code>ImgScalr Library</code></a>, which is an external API Library that helps process the target image.</p>
</div>
<div class="paragraph">
<p>The manipulation feature is facilitated by <code>CurrentEdit</code>. It uses the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CurrentEdit#tempImageDoNotExist()</code> - Returns <code>true</code> if <code>tempImage</code> in <code>CurrentEdit</code> is null. <code>tempImage</code> is null only if <code>open</code> command is never called.</p>
</li>
<li>
<p><code>CurrentEdit#getTempImage</code> - Retrieves the temporary image <code>tempImage</code> which stores the filepath of the temporary image, its history of edits [<code>List&lt;Command&gt;</code>] and its metadata.</p>
</li>
<li>
<p><code>CurrentEdit#updateTempImage</code> - Replaces the temporary image in <code>temp</code> directory with the newly edited image and updates the <code>tempImage</code> instance in the class.</p>
</li>
<li>
<p><code>CurrentEdit#addCommand</code> - Adds this command to the edit history <code>List&lt;Command&gt;</code> in <code>tempImage</code> for the <code>undo/redo</code> command.</p>
</li>
<li>
<p><code>CurrentEdit#displayTempImage()</code> - Displays the temporary image stored in the <code>temp</code> directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This manipulation feature mainly consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>RotateCommand</code>: Allows users to rotate images by specifying a degree (90, 180 or 270 only).</p>
</li>
<li>
<p><code>CropCommand</code>: Allows users to crop images by specifying the coordinates of the top left corner, the width and the height of the desired cropped image.</p>
</li>
<li>
<p><code>ResizeCommand</code>: Allows users to resize images to the desired width and height.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following describes the main operations and processes for each command stated above.</p>
</div>
</div>
<div class="sect3">
<h4 id="rotate-command"><a class="link" href="#rotate-command">Rotate Command</a></h4>
<div class="paragraph">
<p>This command allows the user to rotate the targeted image by specifying a degree (90, 180 or 270 only). Upon receiving an input degree from the user, the degree will be checked for its validity and will throw an error if the degree is not within the specified range. The command will then be added to the <code>List&lt;Commands&gt;</code> belonging to <code>tempImage</code> found in <code>currentEdit</code> which saves the editing history of the targeted image.</p>
</div>
<div class="paragraph">
<p>The diagram below illustrates how the <code>Rotate</code> Command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/RotateCommandSequenceDiagram.png" alt="RotateCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 3. Sequence Diagram for Rotate Command</div>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the command should behave at each step. (This applies to the other image manipulation commands as well.):</p>
</div>
<div class="paragraph">
<p>Step 1. When the user runs an open command to edit an image, it invokes a method which creates an instance of an <code>Image</code> that stores the file path of the image, its history of edits <code>List&lt;Command&gt;</code> and its metadata. This <code>Image</code> object is saved under the variable name <code>tempImage</code> in <code>currentEdit</code> for editing.</p>
</div>
<div class="paragraph">
<p>Step 2. When the user enters the command (e.g. <code>rotate 90</code>), the entered command is parsed and the command will be executed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If an invalid command is provided, a reminder of how to use the command will be given to the user and no command will be executed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. During execution, the <code>execute</code> method in the <code>RotateCommand</code> class first invokes <code>currentEdit#tempImageDoNotExist</code> to check if an image is opened. If no image is opened, it will throw an error message to inform the user to open an image for editing. Else, the <code>execute</code> method will invoke <code>currentEdit#getTempImage()</code> to get the <code>tempImage</code> from <code>CurrentEdit</code>.</p>
</div>
<div class="paragraph">
<p>Step 4. Upon retrieving the <code>tempImage</code>, the <code>execute</code> method in <code>RotateCommand</code> gets a <code>BufferedImage</code> instance from <code>tempImage</code>.The method then calls the external library <a href="https://github.com/rkalla/imgscalr"><code>ImgScalr</code></a>'s class <code>rotate</code> and passes the <code>BufferedImage</code> object in.</p>
</div>
<div class="paragraph">
<p>Step 5. A <code>BufferedImage</code> object is returned from the external library and <code>currentEdit#updateTempImage()</code> is invoked to save the newly edited <code>BufferedImage</code> and replace the previous image in the file path of the <code>tempImage</code>.</p>
</div>
<div class="paragraph">
<p>Step 6. The <code>execute</code> method then checks if the boolean <code>isNewCommand</code> is true. If it is true, it indicates that the command is a new <code>Rotate</code> command called directly from the user and not through an <code>undo/redo</code> command which triggers Step 7 in the line below. Otherwise, the command’s execution ends in this step.</p>
</div>
<div class="paragraph">
<p>Step 7. <code>isNewCommand</code> is set to false to signal that this command is not a new rotate command if it is executed again through the <code>undo/redo</code> command. <code>currentEdit#addCommand(this)</code> is invoked to add this command to the <code>List&lt;Command&gt;</code> in <code>tempImage</code> for the <code>undo/redo</code> function and <code>currentEdit#displayTempImage()</code> is used to display the edited image on the graphical user interface.<br></p>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<div class="ulist">
<ul>
<li>
<p>Images that are still being edited have to be stored and edited in a temporary directory first due to our <code>undo/redo</code> implementation.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="4-3-watermark-feature"><a class="link" href="#4-3-watermark-feature">4.3 WaterMark Feature</a></h4>
<hr>
<div class="paragraph">
<p>This command allows the user to add a watermark to their image. Upon receiving an input message from the user, the message will be checked for its validity and will throw an error if the message is empty or contains only spaces. Messages can contain words and numbers separated by spaces. The command will then be added to the <code>List&lt;Commands&gt;</code> belonging to <code>tempImage</code> found in <code>currentEdit</code> which saves the editing history of the targeted image.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Each image can only have 1 watermark. If the user would like to edit the watermark, the user can remove the watermark by using the <code>Undo</code> function and then add a new watermark.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current Implementation</a></h4>
<div class="paragraph">
<p>The manipulation feature is facilitated by <code>CurrentEdit</code> and <code>Image</code>. It uses the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CurrentEdit#tempImageDoNotExist()</code> - Returns <code>true</code> if <code>tempImage</code> in <code>CurrentEdit</code> is null. <code>tempImage</code> is null only if <code>open</code> command is never called.</p>
</li>
<li>
<p><code>CurrentEdit#getTempImage</code> - Retrieves the temporary image <code>tempImage</code> which stores the filepath of the temporary image in the <code>temp</code> directory, its history of edits [<code>List&lt;Command&gt;</code>] and its metadata.</p>
</li>
<li>
<p><code>CurrentEdit#updateTempImage</code> - Replaces the temporary image in <code>temp</code> directory with the newly edited image and updates the <code>tempImage</code> instance in the class.</p>
</li>
<li>
<p><code>CurrentEdit#addCommand</code> - Adds this command to the edit history <code>List&lt;Command&gt;</code> in <code>tempImage</code> for the <code>undo/redo</code> command.</p>
</li>
<li>
<p><code>CurrentEdit#displayTempImage()</code> - Displays the temporary image stored in the <code>temp</code> directory.</p>
</li>
<li>
<p><code>Image#hasWaterMark()</code> - Checks if the <code>Image</code> already has a watermark.</p>
</li>
<li>
<p><code>Image#setWaterMark(boolean)</code> - Sets the <code>Image</code> object&#8217;s <code>hasWaterMark</code> field accordingly - if the <code>Image</code> object has or does not have a watermark.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The diagram below illustrates how the WaterMark Command works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/WaterMarkCommandSequenceDiagram.png" alt="WaterMarkCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 4. Sequence Diagram for WaterMark Command</div>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the command should behave at each step:</p>
</div>
<div class="paragraph">
<p>Step 1. When the user runs an open command to edit an image, it invokes a method which creates an instance of an <code>Image</code> that stores the file path of the image, its history of edits <code>List&lt;Command&gt;</code> and its metadata. This <code>Image</code> object is saved under the variable name <code>tempImage</code> in <code>currentEdit</code> for editing.</p>
</div>
<div class="paragraph">
<p>Step 2. When the user enters the command (e.g. <code>wm FomoFoto</code>), the entered command is parsed and the command will be executed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If an invalid command is provided, a reminder of how to use the command will be given to the user and no command will be executed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 3. During execution, the <code>execute</code> method in the <code>WaterMarkCommand</code> class first invokes <code>currentEdit#tempImageDoNotExist</code> to check if an image is opened. If no image is opened, it will throw an error message to inform the user to open an image for editing. Else, the <code>execute</code> method will invoke <code>currentEdit#getTempImage()</code> to get the <code>tempImage</code> from <code>CurrentEdit</code>.</p>
</div>
<div class="paragraph">
<p>Step 4. Upon retrieving the <code>tempImage</code>, the <code>execute</code> method in the <code>WaterMarkCommand</code> gets the  <code>BufferedImage</code> instance of the <code>tempImage</code> object and copies the <code>BufferedImage</code> object to a temporary <code>BufferedImage</code> object with the same width, height and image type. The <code>execute</code> method then initialises the necessary graphics properties using the <code>Graphics2D</code> Java class. The message is centralised and overlays the temporary <code>BufferedImage</code> object.</p>
</div>
<div class="paragraph">
<p>Step 5. The <code>execute</code> method then checks for a few conditions listed below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>isNewCommand</code>: Checks if the <code>WaterMark</code> command is from an input by the user, from an <code>undo/redo</code> command or from a <code>SetPreset</code> command.</p>
</li>
<li>
<p><code>isPreset</code>: Checks if the <code>WaterMark</code> command is from a preset.</p>
</li>
<li>
<p><code>tempImage#hasWaterMark()</code>: Checks if the <code>tempImage</code> already has a watermark.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Step 6. According to the above 3 conditions, the following combinations will result in different actions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>isNewCommand</code> = <code>True</code> and <code>tempImage#hasWaterMark()</code> = <code>False</code>:</p>
<div class="ulist">
<ul>
<li>
<p>Invokes <code>tempImage#setWaterMark(True)</code> to indicate that the image has a watermark.<br></p>
</li>
<li>
<p>Invokes <code>currentEdit#updateTempImage()</code> to  save the newly edited <code>BufferedImage</code> and replace the previous image in the filepath of the <code>tempImage</code>.</p>
</li>
<li>
<p>Sets <code>isNewCommand</code> to false to signal that this command is not a new rotate command if it is executed again through the <code>undo/redo</code> function.</p>
</li>
<li>
<p>Invokes <code>currentEdit#addCommand(this)</code> to add this command to the <code>List&lt;Command&gt;</code> in <code>tempImage</code> for the <code>undo/redo</code> function and <code>currentEdit#displayTempImage()</code> is used to display the edited image on the graphical user interface.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>isNewCommand</code> = <code>True</code> and <code>tempImage#hasWaterMark()</code> = <code>True</code>:</p>
<div class="ulist">
<ul>
<li>
<p>Throws an exception as there is already a watermark on <code>tempImage</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>isNewCommand</code> = <code>False</code> and <code>isPreset</code> = <code>False</code>:</p>
<div class="ulist">
<ul>
<li>
<p>Indicates that it is an <code>undo/redo</code> function.</p>
</li>
<li>
<p>Invokes <code>tempImage#setWaterMark(true)</code> to indicate that the image has a watermark.</p>
</li>
<li>
<p>Invokes <code>currentEdit#updateTempImage()</code> to save the newly edited <code>BufferedImage</code> and replace the previous image in the filepath of the <code>tempImage</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>isNewCommand</code> = <code>False</code> and <code>isPreset</code> = <code>True</code> and <code>tempImage#hasWaterMark()</code> = <code>False</code>:</p>
<div class="ulist">
<ul>
<li>
<p>Indicates that a preset is added to an image with no watermark.</p>
</li>
<li>
<p>Invokes <code>tempImage#setWaterMark(true)</code> to indicate that the image has a watermark.</p>
</li>
<li>
<p>Invokes <code>currentEdit#updateTempImage()</code> to save the newly edited <code>BufferedImage</code> and replace the previous image in the filepath of the <code>tempImage</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Anything else:</p>
<div class="ulist">
<ul>
<li>
<p>Throws an exception as there is already a watermark on <code>tempImage</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="4-4-other-contributions"><a class="link" href="#4-4-other-contributions">4.4 Other Contributions</a></h4>
<hr>
<div class="ulist">
<ul>
<li>
<p>Crop Command</p>
</li>
<li>
<p>Resize Command</p>
</li>
<li>
<p>Architecture Diagrams</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 15:04:52 UTC</div></div></div></body></html>